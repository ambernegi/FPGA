# I/O Calibration

HSIO and GPIO have a built-in I/O calibration feature per bank excluding bank 3.<br /> The I/O calibration circuitry is completely self-contained requiring no external<br /> reference resistors. The basis for calibration is to optimize the device performance to<br /> compensate for process, voltage and temperature \(PVT\) variations. The calibration<br /> controller is used to achieve impedance control for the GPIO and HSIO output buffer<br /> drive, termination and HSIO slew rate control by calibrating the I/O drivers. The<br /> calibration is initially completed at power-up. It is initiated by power-on detectors on<br /> VDDI and VDDAUX power supplies. The internal calibration engine initializes the I/O with<br /> internal approximation register settings at power-up. I/O calibration occurs<br /> automatically at power-up or by toggling DEVRST\_N. On-demand calibration can be invoked<br /> by you after the initial I/O calibration. The PF\_INIT\_MONITOR FPGA IP is used to control<br /> the I/O recalibration or to monitor the initial I/O calibration. For more information<br /> about calibration requirements for proper start-up, initialization, re-calibration, and<br /> usage of the PF\_INIT\_MONITOR module, see [PolarFire Family Power-Up and Resets User Guide](https://ww1.microchip.com/downloads/aemDocuments/documents/FPGA/ProductDocuments/UserGuides/Microchip_PolarFire_FPGA_and_PolarFire_SoC_FPGA_Power_Up_and_Reset_User_Guide_VC.pdf).

The ODT and output drive features of HSIO and GPIO are calibrated depending on the I/O standard used in a Libero SoC design. The calibration logic is initially in a reset state at power-on. This initial pre-calibration state of the device sets the default to maximum calibration settings. This is done to the I/Os to ensure that the buffers are functionally operational after the power-on is complete.

The maximum settings are temporarily used by the buffers until the initial startup is completed. When this is completed, the optimized calibration values are then distributed to the associated I/Os within the bank. The calibration values are used for PVT compensation. GPIO and HSIO use the calibrated values for both drive strength and termination strength. The GPIO differential termination are also calibrated, and HSIO buffers are calibrated for output slew rate control.

HSIO and GPIO initially power-on with default maximum settings. Maximum pre-calibrated settings are defined as strong drive strength \(low output impedance\) and low termination values. Due to the nature of these initial pre-calibration settings, a transient current on the VDDI of the associated bank occurs during this pre-calibration phase. The transient current does not have long-term reliability concerns. The transient current diminishes when exiting the pre-calibration phase.

The initial transient current caused by pre-calibration can be mitigated if it<br /> is undesirable to the system. Transient current that is caused due to ODT termination can be<br /> managed by using the ODT control capabilities in the I/O \(see [On-Die Termination \(ODT\)](GUID-34252CA1-27AF-4B9E-BF64-39CEC9B179DF.md)\). Training IP \(TIP\)<br /> normally associated with high-speed DDR interfaces can be used to disable the I/O termination<br /> until calibration is complete. For untrained termination interfaces, the ODT\_DYN interface can<br /> be used to disable this pre-calibrated termination. I/O calibration/recalibration is not<br /> related to any IOD operations for source-synchronous interfaces or I/O CDR functionality. I/O<br /> calibration is limited to the analog optimization of the I/O buffer circuitry. IOD circuitry<br /> does not impact I/O calibration nor does I/O calibration impact IOD operation.

**Parent topic:**[I/O Implementation Considerations](GUID-984E4773-788B-43B2-8E99-D0C476AC29DD.md)

