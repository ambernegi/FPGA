# I/O Calibration

HSIO, GPIO, MSSIO and MSSDDR have a built-in I/O calibration feature per bank excluding Bank 3.<br /> The I/O calibration circuitry is completely self-contained requiring no external reference<br /> resistors. The basis for I/O calibration is to optimize the device performance to compensate<br /> for Process, Voltage, and Temperature \(PVT\) variations. An embedded I/O calibration controller<br /> is used to achieve the impedance control for the I/O output buffer drive, termination, and<br /> slew rate control by calibrating the I/O drivers. The calibration is initially completed at<br /> power-up. Each bank is calibrated at power-up after the bank VDDI/VDDAUX voltages reach<br /> minimum thresholds and the bank "Auto calibration ramp time" has expired.

The internal calibration engine initializes the I/O with internal approximation register settings at power-up. I/O calibration occurs automatically at power-up or by toggling DEVRST\_N. On-demand calibration can be invoked by user control after the initial I/O calibration. The PF\_INIT\_MONITOR FPGA IP is used to control the I/O recalibration or to monitor the initial I/O calibration and trigger on-demand recalibration.

Although the I/O is functional early in the power-up sequence, the high-speed I/O performance<br /> cannot be expected until it is completely calibrated. For more information about the<br /> calibration requirements for proper start-up, initialization, re-calibration, and usage of the<br /> PF\_INIT\_MONITOR module, see [PolarFire Family Power-Up and Resets User Guide](https://ww1.microchip.com/downloads/aemDocuments/documents/FPGA/ProductDocuments/UserGuides/Microchip_PolarFire_FPGA_and_PolarFire_SoC_FPGA_Power_Up_and_Reset_User_Guide_VC.pdf).

The ODT and the output drive features of HSIO, MSS DDR, MSSIO, and GPIO are calibrated<br /> specifically to the I/O standard targeted in the project. The calibration logic is<br /> initially in a reset state at power-on. This initial pre-calibration state of the device<br /> sets the default to maximum calibration settings. This is done to the I/Os in order to<br /> ensure that the buffers are operational after the power-on is complete.

The maximum settings are temporarily used by the buffers until the initial start-up is completed.<br /> When this is completed, the optimized calibration values are then distributed to the<br /> associated I/Os within the bank. The initial pre-calibrated settings are defined as strong<br /> drive strength \(low output impedance\) and low termination values. Due to the nature of these<br /> initial pre-calibration settings, a transient current on the VDDI of the associated bank<br /> occurs during this pre-calibration phase. The transient current does not have long-term<br /> reliability concerns. The transient current diminishes when exiting the pre-calibration phase.<br /> The calibration values are used for PVT compensation for both drive strength and termination<br /> strength. The GPIO differential termination is also calibrated, and HSIO buffers are<br /> calibrated for output slew rate control.

The initial transient current caused by pre-calibration can be mitigated if it is undesirable to the system. Transient current that is caused due to ODT termination is managed by utilizing the ODT control capabilities in the I/O \(see [On-Die Termination \(ODT\)](GUID-34252CA1-27AF-4B9E-BF64-39CEC9B179DF.md#GUID-179CB169-68A9-45D4-8C34-45177848E41A)\). Training IP \(TIP\) associated with the high-speed DDR interfaces is used to disable the I/O termination until calibration is complete. For untrained termination interfaces, the ODT\_DYN interface is used to disable this pre-calibrated termination. I/O calibration or recalibration is not related to any IOD operations for the source-synchronous interfaces or I/O CDR functionality. I/O calibration is limited to the analog optimization of the I/O buffer circuitry. IOD circuitry does not impact I/O calibration nor does I/O calibration impact IOD operation.

**Parent topic:**[I/O Initialization](GUID-5ABE88CD-2F50-491C-A28E-F2CE4C4B7AE4.md)

